!function(e,t){"use strict";function a(a){function i(){var t=e("#simplemodal-container"),a=e("#simplemodal-data > iframe"),i=s.width/s.height,d=o.width(),n=o.height(),l=d<s.width?d:s.width,r=d<s.width?Math.round(l/i):s.height,h=Math.round(n/2-r/2),c=Math.round(d/2-l/2);a.css({width:l+"px",height:r+"px"}),t.css({width:l+"px",height:r+"px",top:h,left:c})}var d=e(this),n=t.SimplemodalVideo.defaults(),l=t.dataAttr(d,["width","height","autoplay","speed"]),s=e.extend(n,l),r=e(this).attr("href")+(1==s.autoplay?"?autoplay=1":"");e.modal('<iframe src="'+r+'" width="'+s.width+'" height="'+s.height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>',{zIndex:1e4,overlayCss:{background:"#000"},overlayClose:!0,closeHTML:'<a href="#" class="close">&times;</a>',onOpen:function(e){e.overlay.fadeIn(s.speed,function(){e.container.fadeIn(s.speed,function(){e.data.fadeIn(s.speed,function(){o.resize(i).trigger("resize"),t.broadcast("simplemodal.open",e)})})})},onClose:function(a){a.container.fadeOut(s.speed,function(){a.overlay.fadeOut(s.speed,function(){e.modal.close(),t.broadcast("simplemodal.close",a),o.unbind("resize",i)})})},onShow:function(e){t.broadcast("simplemodal.show",e)}}),a.preventDefault()}var o=e(window);t.SimplemodalVideo={DEFAULTS:{width:800,height:450,autoplay:0,speed:200},defaults:function(){return e.extend({},this.DEFAULTS)}},e('[data-simplemodal="open-simplemodal-video"]').click(a)}(jQuery,Javelin);